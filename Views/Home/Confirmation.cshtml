<!-- Views/Home/Confirmation.cshtml - Confirmación antes de la compra -->
@model PassengerViewModel
@{
    ViewData["Title"] = "Confirmar Compra";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h4><i class="fas fa-check-circle me-2"></i>Confirmar Compra</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Datos del Pasajero</h5>
                            <p><strong>Nombre:</strong> @Model.FullName</p>
                            <p><strong>Documento:</strong> @Model.DocumentNumber</p>
                            @if (!string.IsNullOrEmpty(Model.Phone))
                            {
                                <p><strong>Teléfono:</strong> @Model.Phone</p>
                            }
                            @if (!string.IsNullOrEmpty(Model.Email))
                            {
                                <p><strong>Email:</strong> @Model.Email</p>
                            }
                        </div>

                        <div class="col-md-6">
                            <h5>Datos del Viaje</h5>
                            <p><strong>Ruta:</strong> @Model.RouteInfo</p>
                            <p><strong>Fecha:</strong> @Model.TravelInfo</p>
                            <p><strong>Llegada:</strong> @Model.ArrivalTime</p>
                            <p><strong>Asiento:</strong> @Model.SeatNumber</p>
                            <p><strong>Tipo de Bus:</strong> @Model.BusType</p>
                        </div>
                    </div>

                    <hr>
                    <div class="text-center">
                        <h3 class="text-success">Total a Pagar: @Model.PriceFormatted</h3>
                    </div>

                    <form asp-action="ConfirmPurchase" method="post">
                        <!-- Todos los campos como hidden -->
                        <input asp-for="FullName" type="hidden" />
                        <input asp-for="DocumentNumber" type="hidden" />
                        <input asp-for="Phone" type="hidden" />
                        <input asp-for="Email" type="hidden" />
                        <input asp-for="Origin" type="hidden" />
                        <input asp-for="Destination" type="hidden" />
                        <input asp-for="TravelDate" type="hidden" />
                        <input asp-for="DepartureTime" type="hidden" />
                        <input asp-for="ArrivalTime" type="hidden" />
                        <input asp-for="Price" type="hidden" />
                        <input asp-for="SeatNumber" type="hidden" />
                        <input asp-for="Duration" type="hidden" />
                        <input asp-for="BusType" type="hidden" />

                        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                            <a href="javascript:history.back()" class="btn btn-outline-secondary me-md-2">Modificar</a>
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="fas fa-credit-card me-2"></i>Confirmar y Pagar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>